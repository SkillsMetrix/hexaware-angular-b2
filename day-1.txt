import { Component, Inject, OnInit } from '@angular/core';
import { FormBuilder, FormControl, FormGroup } from '@angular/forms';
import { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';

@Component({
  selector: 'app-edituser',
  templateUrl: './edituser.component.html',
  styleUrl: './edituser.component.css',
})
export class EdituserComponent implements OnInit {
  ngOnInit(): void {
    if (this.data) {
      this.form.patchValue({
        uname: this.data.uname,
        pass: this.data.pass,
        email: this.data.email,
        city: this.data.city,
      });
      console.log(this.form.value);
    }
  }
  form: FormGroup;
  constructor(
    private fb: FormBuilder,
    private dr: MatDialogRef<EdituserComponent>,
    @Inject(MAT_DIALOG_DATA) public data: any
  ) {
    console.log('Dialog Data ', this.data);

    this.form = this.fb.group({
      uname: [this.data.uname],
      pass: [this.data.pass],
      email: [this.data.email],
      city: [this.data.city],
    });
    console.log(this.form.value);
  }
  save() {
    console.log(this.form.value);
  }
}
----------


<div id="uform">

  <mat-card style="width: 350px; padding: 20px;">
    <mat-card-header>
      <mat-card-title>User Registration Form</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <form (ngSubmit)="save()" [formGroup]="form">
        <mat-form-field appearance="outline">
          <mat-label>UserName</mat-label>
          <input matInput type="text" formControlName="uname"/>

          
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label>Password</mat-label>
          <input matInput type="password" formControlName="pass" />

          
        </mat-form-field>

        <mat-form-field>
          <mat-label>Email</mat-label>
          <input matInput type="email" formControlName="email" />
          
        </mat-form-field>
        <mat-form-field>
          <mat-label>City</mat-label>
          <input matInput type="text" formControlName="city"/>
        </mat-form-field>
        <button mat-raised-button color="primary">Register</button>


      </form>
    </mat-card-content>
  </mat-card>


<hr>

</div>



-----------


import { Component, OnInit } from '@angular/core';
import { UserformserviceService } from '../../shared/userformservice.service';
import { MatSnackBar } from '@angular/material/snack-bar';
import { MatDialog } from '@angular/material/dialog';
import { EdituserComponent } from '../edituser/edituser.component';

@Component({
  selector: 'app-loadusers',
  templateUrl: './loadusers.component.html',
  styleUrl: './loadusers.component.css'
})
export class LoadusersComponent implements OnInit{

  constructor(private us:UserformserviceService,private sb:MatSnackBar,private dialog:MatDialog){}

  ngOnInit(): void {
    this.loadUsers()
  }
  displayColumns:string[]=['uname','email','city','actions']
  users:any
  loadUsers(){
    this.us.loadUserFromDB().subscribe({
      next: (res) => (this.users=res)
      
    })
  }
  deleteUser(id):void{
    const ok= window.confirm(`Delete user ${id} ?`)
    if(!ok) return
    this.us.deleteUser(id).subscribe({
      next :() => {
        this.sb.open('Record Deleted..!','Close',{duration:2200})
        this.loadUsers()
      }
    })
  }
editUser(id):void{
  const ref= this.dialog.open(EdituserComponent,{
    width:'380px',
    data: {...this.users}
  })
}
}

--------------------



<div class="page-container">
<mat-card class="user-card mat elevation-z4">
    <mat-card-title>User List</mat-card-title>
    <div class="table-container">
        <table mat-table [dataSource]="users" class="compact-table">
            <ng-container matColumnDef="uname">
                <th mat-header-cell *matHeaderCellDef>User Name</th>
                <td mat-cell *matCellDef="let user">{{user.uname}}</td>
            </ng-container>

              <ng-container matColumnDef="email">
                <th mat-header-cell *matHeaderCellDef>Email</th>
                <td mat-cell *matCellDef="let user">{{user.email}}</td>
            </ng-container>


                    <ng-container matColumnDef="city">
                <th mat-header-cell *matHeaderCellDef>City</th>
                <td mat-cell *matCellDef="let user">{{user.city}}</td>
            </ng-container>


             <ng-container matColumnDef="actions">
                    <th mat-header-cell *matHeaderCellDef> Actions</th>
                    <td mat-cell *matCellDef="let u">
                        <button (click)="editUser(u.id)" mat-icon-button aria-label="Edit">
                            <mat-icon>edit</mat-icon>
                        </button>
                         <button (click)="deleteUser(u.id)" mat-icon-button aria-label="Delete">
                            <mat-icon>delete</mat-icon>
                        </button>
                    </td>
            </ng-container>

                <tr mat-header-row *matHeaderRowDef="displayColumns"></tr>
                <tr mat-header-row *matRowDef="let row; columns: displayColumns"></tr>
        </table>
    </div>
</mat-card>
</div>
